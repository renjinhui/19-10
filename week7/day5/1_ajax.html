<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
    /* let xhr = new XMLHttpRequest();
    // get head  delete;   post  options put ..  
    xhr.open(type,url,async);
    // ontimeout           onabort
    // timeout=2000        abort()
    xhr.onreadystatechange = function(){
        // readyState 0 1 2 3 4 
        // status 200  301 302 304 307  403 404 405  5XX
        if(xhr.readyState == 4){
            if(/2\d{2}|304/.test(xhr.status)){

            }else if(/[45]\d{2}/.test(xhr.status)){

            }
        }
    }
    xhr.send('123457'); */

    // websocket
    // wss://docs.qq.com/socket.io/?gtag=main_page_p.24092244&EIO=3&transport=websocket

    // socket.io  它是 websocket的一个封装好的库；
    let ws = new WebSocket('wss://docs.qq.com/socket.io/?gtag=main_page_p.24092244&EIO=3&transport=websocket');

    ws.onopen = function(e){
        //链接打通的时候
    }
    ws.onmessage = function(e){
        //前端接收到后端推送的消息
        console.log(e)
    }
    ws.onerror = function(e){
        // 链接出现失败的时候会触发
    }
    ws.onclose = function(e){
        // 链接被关闭的时候
    }
    // ws.send({a:123})
</script>